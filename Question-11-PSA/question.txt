Weight: 7%
Domain: Minimize Microservice Vulnerabilities (20%)
Difficulty: Medium

Context:
kubectl config use-context workload-prod

A namespace named team-blue has several pods running that were created before
Pod Security Standards were enforced. You need to configure the namespace to
enforce the restricted Pod Security Standard and clean up non-compliant pods.

Task:
1. Use the dry-run feature to identify pods that violate the restricted
   Pod Security Standard WITHOUT actually applying the label yet:

   kubectl label --dry-run=server --overwrite ns team-blue \
     pod-security.kubernetes.io/enforce=restricted

2. Review the warnings returned to identify which pods violate the policy

3. Apply the restricted enforcement to the namespace

4. Delete the pods that violate the restricted Pod Security Standard
   (Note: Pods managed by Deployments will fail to recreate due to the policy)

5. The compliant pods should remain running

Save the following:
- The warning output from the dry-run command: /opt/course/11/violations.txt
- Names of deleted pods (one per line): /opt/course/11/deleted-pods.txt
- The kubectl label command used: /opt/course/11/command.txt

